<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prédictions de Pandémies - OMS</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <a href="#main-content" class="skip-link">Aller au contenu principal</a>

    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="bi bi-virus"></i> Prédictions de Pandémies - OMS
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#dashboard">Tableau de bord</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#predictions">Prédictions</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#data-explorer">Explorateur de données</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#about">À propos</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <main id="main-content" class="container py-4">
        <section id="dashboard" class="mb-5">
            <h1 class="mb-4">Tableau de bord des pandémies</h1>

            <div class="filter-section">
                <div class="row">
                    <div class="col-md-4 mb-3">
                        <label for="virus-select" class="form-label">Virus</label>
                        <select id="virus-select" class="form-select" aria-label="Sélectionner un virus">
                            <option value="all" selected>Tous les virus</option>
                        </select>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="location-select" class="form-label">Localisation</label>
                        <select id="location-select" class="form-select" aria-label="Sélectionner une localisation">
                            <option value="all" selected>Toutes les localisations</option>
                        </select>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="date-range" class="form-label">Période</label>
                        <select id="date-range" class="form-select" aria-label="Sélectionner une période">
                            <option value="7" selected>7 derniers jours</option>
                            <option value="30">30 derniers jours</option>
                            <option value="90">90 derniers jours</option>
                            <option value="365">Dernière année</option>
                            <option value="all_time">Depuis le début</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-3 mb-4">
                    <div class="card stat-card">
                        <div class="card-body">
                            <div class="label">Cas totaux</div>
                            <div class="value" id="total-cases">-</div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 mb-4">
                    <div class="card stat-card">
                        <div class="card-body">
                            <div class="label">Décès totaux</div>
                            <div class="value" id="total-deaths">-</div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 mb-4">
                    <div class="card stat-card">
                        <div class="card-body">
                            <div class="label">Nouveaux cas (période)</div>
                            <div class="value" id="new-cases">-</div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 mb-4">
                    <div class="card stat-card">
                        <div class="card-body">
                            <div class="label">Nouveaux décès (période)</div>
                            <div class="value" id="new-deaths">-</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-8 mb-4">
                    <div class="card">
                        <div class="card-header">
                            Évolution des cas
                        </div>
                        <div class="card-body">
                            <div class="chart-container">
                                <canvas id="cases-chart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 mb-4">
                    <div class="card">
                        <div class="card-header">
                            Répartition par localisation (Top 5)
                        </div>
                        <div class="card-body">
                            <div class="chart-container">
                                <canvas id="location-chart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="predictions" class="mb-5">
            <h2 class="mb-4">Prédictions IA</h2>

            <div class="row">
                <div class="col-md-6 mb-4">
                    <div class="card">
                        <div class="card-header">
                            Prédictions de transmission et mortalité
                        </div>
                        <div class="card-body">
                            <div class="filter-section mb-3">
                                <div class="row">
                                    <div class="col-md-6 mb-2">
                                        <label for="pred-virus-select" class="form-label">Virus</label>
                                        <select id="pred-virus-select" class="form-select" aria-label="Sélectionner un virus pour les prédictions">
                                            <!-- Options will be populated by API -->
                                        </select>
                                    </div>
                                    <div class="col-md-6 mb-2">
                                        <label for="pred-location-select" class="form-label">Localisation</label>
                                        <select id="pred-location-select" class="form-select" aria-label="Sélectionner une localisation pour les prédictions">
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="prediction-results mb-3">
                                <h5>Prédictions pour les 4 prochaines semaines</h5>
                                <div id="prediction-list" class="list-group">
                                    <p id="no-prediction-data">Aucune prédiction disponible pour la sélection actuelle.</p>
                                </div>
                            </div>

                            <div class="chart-container">
                                <canvas id="prediction-chart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 mb-4">
                    <div class="card">
                        <div class="card-header">
                            Prédiction de propagation géographique
                        </div>
                        <div class="card-body">
                            <div class="filter-section mb-3">
                                <div class="row">
                                    <div class="col-md-12 mb-2">
                                        <label for="geo-pred-virus-select" class="form-label">Virus</label>
                                        <select id="geo-pred-virus-select" class="form-select" aria-label="Sélectionner un virus pour la prédiction de propagation">
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div id="geo-prediction-list" class="list-group mb-3">
                                <p id="no-geo-prediction-data">Aucune prédiction de propagation disponible pour la sélection actuelle.</p>
                            </div>
                            <div class="chart-container">
                                <canvas id="geo-prediction-chart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="model-metrics-section" class="mb-5">
            <h2 class="mb-4">Métriques des Modèles IA</h2>
            <div class="card">
                <div class="card-header">
                    Performance des modèles de prédiction
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-striped table-hover">
                            <thead>
                                <tr>
                                    <th>Nom du Modèle</th>
                                    <th>Type</th>
                                    <th>Virus</th>
                                    <th>Localisation</th>
                                    <th>MSE</th>
                                    <th>RMSE</th>
                                    <th>R² Score</th>
                                </tr>
                            </thead>
                            <tbody id="model-metrics-table-body">
                                <!-- Metrics will be populated by API -->
                                <tr><td colspan="7">Chargement des métriques...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <section id="data-explorer" class="mb-5">
            <h2 class="mb-4">Explorateur de données brutes (WorldMeter)</h2>
            <div class="card">
                <div class="card-header">
                    Données WorldMeter
                </div>
                <div class="card-body">
                    <p class="text-muted">Utilisez les filtres en haut de la page (Tableau de bord) pour affiner les données affichées ici.</p>
                    <div class="table-responsive">
                        <table class="table table-sm table-bordered table-hover">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Localisation</th>
                                    <th>Virus</th>
                                    <th>Total Cas</th>
                                    <th>Total Décès</th>
                                    <th>Nvx Cas</th>
                                    <th>Nvx Décès</th>
                                </tr>
                            </thead>
                            <tbody id="worldmeter-table-body">
                                <!-- Data will be populated by API based on dashboard filters -->
                                <tr><td colspan="7">Sélectionnez des filtres pour afficher les données.</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <section id="about" class="mb-5">
            <h2 class="mb-4">À propos</h2>
            <div class="card">
                <div class="card-body">
                    <p>Cette application a été développée pour visualiser les données de pandémies et fournir des prédictions basées sur des modèles d'intelligence artificielle. Elle utilise les données de WorldMeter et d'autres sources pour alimenter les visualisations et les modèles.</p>
                    <p>Les prédictions fournies sont à titre indicatif et ne doivent pas être utilisées pour prendre des décisions médicales ou de santé publique sans consultation d'experts.</p>
                    <p><strong>Technologies utilisées :</strong> Django, Django REST framework, Python, Pandas, Scikit-learn, Chart.js, Bootstrap.</p>
                </div>
            </div>
        </section>
    </main>

    <footer class="text-center">
        <div class="container">
            <p>&copy; 2024 Projet de Prédictions de Pandémies. Tous droits réservés.</p>
        </div>
    </footer>

    <div class="accessibility-controls">
        <button id="increase-font" aria-label="Augmenter la taille de la police"><i class="bi bi-zoom-in"></i></button>
        <button id="decrease-font" aria-label="Diminuer la taille de la police"><i class="bi bi-zoom-out"></i></button>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js"></script>
</body>
</html>